{% extends 'prive/base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% load humanize %}
{% block titre %}{{ object }}{% endblock %}


{% block contenu_dash %}
<!-- Titre du tableau -->
<div class="d-flex mb-4 mt-6">
	<span class="fa-stack me-2 ms-n1">
		<i class="fa-inverse fa-stack-1x text-primary far fa-object-group"></i>
	</span>
	<div class="col">
    	<h5 class="mb-0 text-primary position-relative"><span class="bg-200 dark__bg-1100 pe-3">Groupe {{ object }}</span><span class="border position-absolute top-50 translate-middle-y w-100 start-0 z-index--1"></span></h5>
	</div>
</div>

<div class="container-fluid px-4 mt-4">
	<div class="row">
		<div class="col-xl-6 col-xxl-4">
			<div class="card mb-3 overflow-hidden">
				<div class="card-header bg-light">
				  <div class="row align-items-center">
				    <div class="col">
				      <h5 class="mb-0" id="followers">Membres du groupe <span class="d-none d-sm-inline-block">({{ object.user_set.all|length }})</span></h5>
				    </div>
				  </div>
				</div>
				<div class="card-body bg-light px-1 py-0">
				  <div class="row g-0 text-center fs--1">
				    {% for member in object.user_set.all %}
				    <div class="col-3">
				      <div class="bg-white dark__bg-1100 p-3 h-100"><img class="img-thumbnail img-fluid rounded-circle mb-3 shadow-sm" src="{{ member.personne.image.url }}" alt="" width="100">
				        <h6 class="mb-1">{{ member }}
				        </h6>
				      </div>
				    </div>
					{% endfor %}
				  </div>
				</div>
			</div>
		</div>
		<div class="col-xl-6 col-xxl-4">
			<div class="card mb-3 overflow-hidden">
				<div class="card-header bg-light">
				  <div class="row align-items-center">
				    <div class="col">
				      <h5 class="mb-0" id="followers">Permissions</h5>
				    </div>
				  </div>
				</div>
				<div class="card-body bg-light px-1 py-0">
				  <div class="row g-0 text-start ms-3 fs--1">
				    {% for member in object.user_set.all %}
				    <div class="col">
						<ul class="list-unstyled">
						{% for permission in object.permissions.all %}
							<li>
								{{ permission.name }}	
							</li>
						{% endfor %}
						</ul>
				    </div>
					{% endfor %}
				  </div>
				</div>
			</div>
		</div>
	</div>
</div>

{% endblock %}